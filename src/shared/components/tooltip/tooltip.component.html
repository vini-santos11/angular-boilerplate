<!-- Tooltip container -->
<div
  *ngIf="tooltipService.tooltip$ | async as t"
  class="fixed z-[9999] px-3 py-2 rounded-xl shadow-lg text-sm transition-all duration-200 pointer-events-none opacity-100 scale-100 animate-fade-in"
  [ngClass]="[
    t.variant === 'dark' ? 'bg-neutral-800 text-white' : '',
    t.variant === 'light'
      ? 'bg-neutral-100 text-neutral-900 border border-gray-300'
      : '',
    t.variant === 'primary' ? 'bg-primary text-white' : ''
  ]"
  [style.left.px]="t.target.left + t.target.width / 2"
  [style.top.px]="t.target.top - 10"
  style="transform: translateX(-50%) translateY(-100%)"
>
  {{ t.message }}

  <!-- Perninha shadow (borda para light) -->
  <div
    *ngIf="t.variant === 'light'"
    class="absolute w-3 h-3 bg-gray-300"
    [style.left.%]="50"
    style="
      top: 100%;
      transform: translateX(-50%) translateY(-50%) rotate(45deg);
    "
  ></div>

  <!-- Perninha principal -->
  <div
    class="absolute w-3 h-3"
    [ngClass]="{
      'bg-neutral-800': t.variant === 'dark',
      'bg-neutral-100': t.variant === 'light',
      'bg-primary': t.variant === 'primary'
    }"
    [style.left.%]="50"
    style="
      top: 100%;
      transform: translateX(-50%) translateY(-50%) rotate(45deg);
    "
  ></div>
</div>
